{"ast":null,"code":"import React,{useContext,useEffect}from\"react\";import{FavoritesContext}from\"../context/FavoritesContext\";import{CartContext}from\"../context/CartContext\";import ProductCard from\"../components/ProductCard\";import\"../styles/BeautyPage.css\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FavoritesPage=()=>{const{favorites,toggleFavorite,setFavorites}=useContext(FavoritesContext);const{addToCart}=useContext(CartContext);const navigate=useNavigate();// üîÑ Charger les favoris stock√©s dans `localStorage` au chargement\nuseEffect(()=>{const storedFavorites=JSON.parse(localStorage.getItem(\"favorites\"))||[];setFavorites(storedFavorites);},[setFavorites]);// ‚úÖ Mettre √† jour `localStorage` chaque fois que les favoris changent\nuseEffect(()=>{localStorage.setItem(\"favorites\",JSON.stringify(favorites));},[favorites]);return/*#__PURE__*/_jsxs(\"div\",{className:\"beauty-page\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Mes Favoris \\u2764\\uFE0F\"}),favorites.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:favorites.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"favorite-item\",children:/*#__PURE__*/_jsx(ProductCard,{product:product,toggleFavorite:()=>toggleFavorite(product),addToCart:()=>addToCart(product),isLiked:favorites.some(fav=>fav.id===product.id),navigate:()=>navigate(`/product/${product.id}`)})},product.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"no-products\",children:\"Aucun favori pour le moment.\"})]});};export default FavoritesPage;","map":{"version":3,"names":["React","useContext","useEffect","FavoritesContext","CartContext","ProductCard","useNavigate","jsx","_jsx","jsxs","_jsxs","FavoritesPage","favorites","toggleFavorite","setFavorites","addToCart","navigate","storedFavorites","JSON","parse","localStorage","getItem","setItem","stringify","className","children","length","map","product","isLiked","some","fav","id"],"sources":["C:/Users/Admin/Desktop/stage25/frontend/src/pages/FavoritesPage.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { FavoritesContext } from \"../context/FavoritesContext\";\r\nimport { CartContext } from \"../context/CartContext\";\r\nimport ProductCard from \"../components/ProductCard\";\r\nimport \"../styles/BeautyPage.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst FavoritesPage = () => {\r\n  const { favorites, toggleFavorite, setFavorites } = useContext(FavoritesContext);\r\n  const { addToCart } = useContext(CartContext);\r\n  const navigate = useNavigate();\r\n\r\n  // üîÑ Charger les favoris stock√©s dans `localStorage` au chargement\r\n  useEffect(() => {\r\n    const storedFavorites = JSON.parse(localStorage.getItem(\"favorites\")) || [];\r\n    setFavorites(storedFavorites);\r\n  }, [setFavorites]);\r\n\r\n  // ‚úÖ Mettre √† jour `localStorage` chaque fois que les favoris changent\r\n  useEffect(() => {\r\n    localStorage.setItem(\"favorites\", JSON.stringify(favorites));\r\n  }, [favorites]);\r\n\r\n  return (\r\n    <div className=\"beauty-page\">\r\n      <h2 className=\"section-title\">Mes Favoris ‚ù§Ô∏è</h2>\r\n\r\n      {favorites.length > 0 ? (\r\n        <div className=\"product-grid\">\r\n          {favorites.map((product) => (\r\n            <div key={product.id} className=\"favorite-item\">\r\n              <ProductCard\r\n                product={product}\r\n                toggleFavorite={() => toggleFavorite(product)}\r\n                addToCart={() => addToCart(product)}\r\n                isLiked={favorites.some((fav) => fav.id === product.id)}\r\n                navigate={() => navigate(`/product/${product.id}`)}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p className=\"no-products\">Aucun favori pour le moment.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FavoritesPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,gBAAgB,KAAQ,6BAA6B,CAC9D,OAASC,WAAW,KAAQ,wBAAwB,CACpD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,0BAA0B,CACjC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,SAAS,CAAEC,cAAc,CAAEC,YAAa,CAAC,CAAGb,UAAU,CAACE,gBAAgB,CAAC,CAChF,KAAM,CAAEY,SAAU,CAAC,CAAGd,UAAU,CAACG,WAAW,CAAC,CAC7C,KAAM,CAAAY,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B;AACAJ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,eAAe,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAI,EAAE,CAC3EP,YAAY,CAACG,eAAe,CAAC,CAC/B,CAAC,CAAE,CAACH,YAAY,CAAC,CAAC,CAElB;AACAZ,SAAS,CAAC,IAAM,CACdkB,YAAY,CAACE,OAAO,CAAC,WAAW,CAAEJ,IAAI,CAACK,SAAS,CAACX,SAAS,CAAC,CAAC,CAC9D,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,mBACEF,KAAA,QAAKc,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjB,IAAA,OAAIgB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,0BAAc,CAAI,CAAC,CAEhDb,SAAS,CAACc,MAAM,CAAG,CAAC,cACnBlB,IAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1Bb,SAAS,CAACe,GAAG,CAAEC,OAAO,eACrBpB,IAAA,QAAsBgB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC7CjB,IAAA,CAACH,WAAW,EACVuB,OAAO,CAAEA,OAAQ,CACjBf,cAAc,CAAEA,CAAA,GAAMA,cAAc,CAACe,OAAO,CAAE,CAC9Cb,SAAS,CAAEA,CAAA,GAAMA,SAAS,CAACa,OAAO,CAAE,CACpCC,OAAO,CAAEjB,SAAS,CAACkB,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,EAAE,GAAKJ,OAAO,CAACI,EAAE,CAAE,CACxDhB,QAAQ,CAAEA,CAAA,GAAMA,QAAQ,CAAC,YAAYY,OAAO,CAACI,EAAE,EAAE,CAAE,CACpD,CAAC,EAPMJ,OAAO,CAACI,EAQb,CACN,CAAC,CACC,CAAC,cAENxB,IAAA,MAAGgB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,8BAA4B,CAAG,CAC3D,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}