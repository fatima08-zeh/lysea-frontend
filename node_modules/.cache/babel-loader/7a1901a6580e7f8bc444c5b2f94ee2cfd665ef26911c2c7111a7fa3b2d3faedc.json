{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\stage25\\\\frontend\\\\src\\\\pages\\\\AddProductPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/AddProductPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst brands = [\"Karine Joncas\", \"Watier\", \"Reversa\"]; // ‚úÖ Liste des marques\n\nconst AddProductPage = ({\n  onProductAdded\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    nom: \"\",\n    prix: \"\",\n    description: \"\",\n    image: null,\n    brand: \"\" // ‚úÖ Utilisation de `brand` pour correspondre √† la base de donn√©es\n  });\n  const navigate = useNavigate();\n  const handleChange = e => {\n    if (e.target.name === \"image\") {\n      setFormData({\n        ...formData,\n        image: e.target.files[0]\n      });\n    } else {\n      setFormData({\n        ...formData,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"nom\", formData.nom);\n    data.append(\"prix\", formData.prix);\n    data.append(\"description\", formData.description);\n    data.append(\"brand\", formData.brand); // ‚úÖ Assure-toi que c'est bien \"brand\" et non \"marque\"\n    data.append(\"image\", formData.image);\n    console.log(\"üì§ Donn√©es envoy√©es :\", Object.fromEntries(data)); // ‚úÖ Debug\n\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/products/add\", data, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      alert(\"‚úÖ Produit ajout√© !\");\n      navigate(\"/admin/products\");\n    } catch (error) {\n      console.error(\"‚ùå Erreur :\", error);\n      alert(\"‚ùå Erreur lors de l'ajout !\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-product-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-left\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Ajouter un Produit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          encType: \"multipart/form-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nom\",\n            placeholder: \"Nom du produit\",\n            value: formData.nom,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"prix\",\n            placeholder: \"Prix\",\n            value: formData.prix,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            placeholder: \"Description du produit\",\n            rows: \"4\",\n            value: formData.description,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"brand\",\n            value: formData.brand,\n            onChange: handleChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"S\\xE9lectionner une marque\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"S\\xE9lectionner une marque\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Karine Joncas\",\n              children: \"Karine Joncas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Watier\",\n              children: \"Watier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Reversa\",\n              children: \"Reversa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"image\",\n            accept: \"image/*\",\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Ajouter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(AddProductPage, \"bUclCEh0X2YFRjQVS2muyKXsbXg=\", false, function () {\n  return [useNavigate];\n});\n_c = AddProductPage;\nexport default AddProductPage;\nvar _c;\n$RefreshReg$(_c, \"AddProductPage\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","brands","AddProductPage","onProductAdded","_s","formData","setFormData","nom","prix","description","image","brand","navigate","handleChange","e","target","name","files","value","handleSubmit","preventDefault","data","FormData","append","console","log","Object","fromEntries","response","post","headers","alert","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","encType","type","placeholder","onChange","required","rows","accept","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/stage25/frontend/src/pages/AddProductPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../styles/AddProductPage.css\";\r\n\r\nconst brands = [\"Karine Joncas\", \"Watier\", \"Reversa\"]; // ‚úÖ Liste des marques\r\n\r\nconst AddProductPage = ({ onProductAdded }) => {\r\n    const [formData, setFormData] = useState({ \r\n        nom: \"\", \r\n        prix: \"\", \r\n        description: \"\", \r\n        image: null, \r\n        brand: \"\"  // ‚úÖ Utilisation de `brand` pour correspondre √† la base de donn√©es\r\n    });\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        if (e.target.name === \"image\") {\r\n            setFormData({ ...formData, image: e.target.files[0] });\r\n        } else {\r\n            setFormData({ ...formData, [e.target.name]: e.target.value });\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append(\"nom\", formData.nom);\r\n        data.append(\"prix\", formData.prix);\r\n        data.append(\"description\", formData.description);\r\n        data.append(\"brand\", formData.brand); // ‚úÖ Assure-toi que c'est bien \"brand\" et non \"marque\"\r\n        data.append(\"image\", formData.image);\r\n    \r\n        console.log(\"üì§ Donn√©es envoy√©es :\", Object.fromEntries(data)); // ‚úÖ Debug\r\n    \r\n        try {\r\n            const response = await axios.post(\"http://localhost:5000/api/products/add\", data, {\r\n                headers: { \"Content-Type\": \"multipart/form-data\" },\r\n            });\r\n            alert(\"‚úÖ Produit ajout√© !\");\r\n            navigate(\"/admin/products\");\r\n        } catch (error) {\r\n            console.error(\"‚ùå Erreur :\", error);\r\n            alert(\"‚ùå Erreur lors de l'ajout !\");\r\n        }\r\n    };\r\n    \r\n\r\n    return (\r\n        <div className=\"add-product-page\">\r\n            <div className=\"product-form-container\">\r\n                <div className=\"product-left\"></div>\r\n                <div className=\"product-right\">\r\n                    <h2>Ajouter un Produit</h2>\r\n                    <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"nom\" \r\n                            placeholder=\"Nom du produit\" \r\n                            value={formData.nom} \r\n                            onChange={handleChange} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"prix\" \r\n                            placeholder=\"Prix\" \r\n                            value={formData.prix} \r\n                            onChange={handleChange} \r\n                            required \r\n                        />\r\n                        <textarea \r\n                            name=\"description\" \r\n                            placeholder=\"Description du produit\" \r\n                            rows=\"4\"\r\n                            value={formData.description} \r\n                            onChange={handleChange} \r\n                            required \r\n                        />\r\n                        \r\n                        {/* ‚úÖ S√©lection de la marque */}\r\n                        <select name=\"brand\" value={formData.brand} onChange={handleChange} required>\r\n                                <option value=\"\">S√©lectionner une marque</option>\r\n                                <option value=\"\">S√©lectionner une marque</option>\r\n                                <option value=\"Karine Joncas\">Karine Joncas</option>\r\n                                <option value=\"Watier\">Watier</option>\r\n                                <option value=\"Reversa\">Reversa</option>\r\n                            \r\n                        </select>\r\n\r\n                        <input \r\n                            type=\"file\" \r\n                            name=\"image\" \r\n                            accept=\"image/*\" \r\n                            onChange={handleChange} \r\n                            required \r\n                        />\r\n                        <button type=\"submit\">Ajouter</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddProductPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}