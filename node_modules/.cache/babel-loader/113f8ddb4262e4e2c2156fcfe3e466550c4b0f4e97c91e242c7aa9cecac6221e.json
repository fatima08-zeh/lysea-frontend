{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import\"../styles/ProductList.css\";// ‚úÖ Assure-toi que ce fichier est bien l√†\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[products,setProducts]=useState([]);const navigate=useNavigate();useEffect(()=>{fetchProducts();},[]);const fetchProducts=()=>{axios.get(\"http://localhost:5001/api/products\").then(response=>setProducts(response.data)).catch(error=>console.error(\"‚ùå Erreur chargement des produits :\",error));};const handleDelete=id=>{if(window.confirm(\"Voulez-vous vraiment supprimer ce produit ?\")){axios.delete(`http://localhost:5001/api/products/${id}`).then(()=>{setProducts(prevProducts=>prevProducts.filter(product=>product.id!==id));alert(\"‚úÖ Produit supprim√© !\");fetchProducts();// üî• Rafra√Æchir la liste apr√®s suppression\n}).catch(error=>{console.error(\"‚ùå Erreur lors de la suppression :\",error);alert(\"‚ùå Erreur lors de la suppression du produit !\");});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"products-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDECD\\uFE0F Liste des Produits\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marque\"}),\" \",/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Prix\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.id}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:5001${product.image_url}`,alt:product.nom,className:\"product-img\"})}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),\" \",/*#__PURE__*/_jsx(\"td\",{children:product.nom}),/*#__PURE__*/_jsx(\"td\",{children:product.description}),/*#__PURE__*/_jsxs(\"td\",{children:[product.prix,\" CAD\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>handleDelete(product.id),children:\"\\uD83D\\uDDD1\\uFE0F Supprimer\"}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-btn\",onClick:()=>navigate(`/admin/edit-product/${product.id}`),children:\"\\u270F\\uFE0F Modifier\"})]})]},product.id))})]})})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","ProductList","products","setProducts","navigate","fetchProducts","get","then","response","data","catch","error","console","handleDelete","id","window","confirm","delete","prevProducts","filter","product","alert","className","children","map","src","image_url","alt","nom","brand","description","prix","onClick"],"sources":["C:/Users/Admin/Desktop/stage25/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../styles/ProductList.css\"; // ‚úÖ Assure-toi que ce fichier est bien l√†\r\n\r\nconst ProductList = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    const fetchProducts = () => {\r\n        axios.get(\"http://localhost:5001/api/products\")\r\n            .then(response => setProducts(response.data))\r\n            .catch(error => console.error(\"‚ùå Erreur chargement des produits :\", error));\r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n      if (window.confirm(\"Voulez-vous vraiment supprimer ce produit ?\")) {\r\n          axios.delete(`http://localhost:5001/api/products/${id}`)\r\n              .then(() => {\r\n                  setProducts(prevProducts => prevProducts.filter(product => product.id !== id));\r\n                  alert(\"‚úÖ Produit supprim√© !\");\r\n                  fetchProducts(); // üî• Rafra√Æchir la liste apr√®s suppression\r\n              })\r\n              .catch(error => {\r\n                  console.error(\"‚ùå Erreur lors de la suppression :\", error);\r\n                  alert(\"‚ùå Erreur lors de la suppression du produit !\");\r\n              });\r\n      }\r\n  };\r\n  \r\n\r\n    return (\r\n        <div className=\"products-list\">\r\n            <h2>üõçÔ∏è Liste des Produits</h2>\r\n            <div className=\"table-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Image</th>\r\n                        <th>Marque</th> {/* ‚úÖ Ajout de la colonne Marque */}\r\n                        <th>Nom</th>\r\n                        <th>Description</th>\r\n                        <th>Prix</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {products.map((product) => (\r\n                        <tr key={product.id}>\r\n                            <td>{product.id}</td>\r\n                            <td>\r\n                                <img src={`http://localhost:5001${product.image_url}`} alt={product.nom} className=\"product-img\" />\r\n                            </td>\r\n                            <td>{product.brand}</td> {/* ‚úÖ Affichage de la marque */}\r\n                            <td>{product.nom}</td>\r\n                            <td>{product.description}</td>\r\n                            <td>{product.prix} CAD</td>\r\n                            <td>\r\n                                <button className=\"delete-btn\" onClick={() => handleDelete(product.id)}>üóëÔ∏è Supprimer</button>\r\n                                <button className=\"edit-btn\" onClick={() => navigate(`/admin/edit-product/${product.id}`)}>‚úèÔ∏è Modifier</button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}