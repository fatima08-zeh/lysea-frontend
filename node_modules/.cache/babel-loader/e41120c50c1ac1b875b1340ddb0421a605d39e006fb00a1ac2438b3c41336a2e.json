{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\stage25\\\\frontend\\\\src\\\\pages\\\\OrderPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CartContext } from \"../context/CartContext\";\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\nimport \"../styles/OrderPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderPage = () => {\n  _s();\n  const {\n    cart,\n    clearCart\n  } = useContext(CartContext);\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const navigate = useNavigate();\n  const totalAmount = cart.reduce((acc, item) => acc + item.prix * item.quantity, 0);\n  const handlePaymentSuccess = details => {\n    alert(\"Paiement réussi !\");\n    clearCart();\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Passer la commande\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"order-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Nom complet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Votre nom\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Adresse de livraison\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Votre adresse\",\n        value: address,\n        onChange: e => setAddress(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"T\\xE9l\\xE9phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"tel\",\n        placeholder: \"Votre num\\xE9ro\",\n        value: phone,\n        onChange: e => setPhone(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Total : \", totalAmount.toFixed(2), \" CAD\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PayPalScriptProvider, {\n        options: {\n          \"client-id\": \"VOTRE_CLIENT_ID_PAYPAL\"\n        },\n        children: /*#__PURE__*/_jsxDEV(PayPalButtons, {\n          style: {\n            layout: \"vertical\"\n          },\n          createOrder: (data, actions) => {\n            return actions.order.create({\n              purchase_units: [{\n                amount: {\n                  value: totalAmount.toFixed(2),\n                  currency_code: \"CAD\"\n                }\n              }]\n            });\n          },\n          onApprove: (data, actions) => {\n            return actions.order.capture().then(details => {\n              handlePaymentSuccess(details);\n            });\n          },\n          onError: err => {\n            console.error(\"Erreur de paiement :\", err);\n            alert(\"Le paiement a échoué, veuillez réessayer.\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\n_s(OrderPage, \"0SvK+gAsWUQTtCYFbzXDFyYVlOU=\", false, function () {\n  return [useNavigate];\n});\n_c = OrderPage;\nexport default OrderPage;\nvar _c;\n$RefreshReg$(_c, \"OrderPage\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","CartContext","PayPalScriptProvider","PayPalButtons","jsxDEV","_jsxDEV","OrderPage","_s","cart","clearCart","name","setName","address","setAddress","phone","setPhone","navigate","totalAmount","reduce","acc","item","prix","quantity","handlePaymentSuccess","details","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","required","toFixed","options","style","layout","createOrder","data","actions","order","create","purchase_units","amount","currency_code","onApprove","capture","then","onError","err","console","error","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/stage25/frontend/src/pages/OrderPage.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { CartContext } from \"../context/CartContext\";\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\nimport \"../styles/OrderPage.css\";\r\n\r\nconst OrderPage = () => {\r\n    const { cart, clearCart } = useContext(CartContext);\r\n    const [name, setName] = useState(\"\");\r\n    const [address, setAddress] = useState(\"\");\r\n    const [phone, setPhone] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n    const totalAmount = cart.reduce((acc, item) => acc + item.prix * item.quantity, 0);\r\n\r\n    const handlePaymentSuccess = (details) => {\r\n        alert(\"Paiement réussi !\");\r\n        clearCart();\r\n        navigate(\"/\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"order-page\">\r\n            <h2>Passer la commande</h2>\r\n            <form className=\"order-form\">\r\n                <label>Nom complet</label>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Votre nom\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    required\r\n                />\r\n\r\n                <label>Adresse de livraison</label>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Votre adresse\"\r\n                    value={address}\r\n                    onChange={(e) => setAddress(e.target.value)}\r\n                    required\r\n                />\r\n\r\n                <label>Téléphone</label>\r\n                <input\r\n                    type=\"tel\"\r\n                    placeholder=\"Votre numéro\"\r\n                    value={phone}\r\n                    onChange={(e) => setPhone(e.target.value)}\r\n                    required\r\n                />\r\n\r\n                <h3>Total : {totalAmount.toFixed(2)} CAD</h3>\r\n\r\n                {/* ✅ Intégration de PayPal avec PayPalScriptProvider */}\r\n                <PayPalScriptProvider options={{ \"client-id\": \"VOTRE_CLIENT_ID_PAYPAL\" }}>\r\n                    <PayPalButtons\r\n                        style={{ layout: \"vertical\" }}\r\n                        createOrder={(data, actions) => {\r\n                            return actions.order.create({\r\n                                purchase_units: [{\r\n                                    amount: {\r\n                                        value: totalAmount.toFixed(2),\r\n                                        currency_code: \"CAD\"\r\n                                    }\r\n                                }]\r\n                            });\r\n                        }}\r\n                        onApprove={(data, actions) => {\r\n                            return actions.order.capture().then((details) => {\r\n                                handlePaymentSuccess(details);\r\n                            });\r\n                        }}\r\n                        onError={(err) => {\r\n                            console.error(\"Erreur de paiement :\", err);\r\n                            alert(\"Le paiement a échoué, veuillez réessayer.\");\r\n                        }}\r\n                    />\r\n                </PayPalScriptProvider>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}