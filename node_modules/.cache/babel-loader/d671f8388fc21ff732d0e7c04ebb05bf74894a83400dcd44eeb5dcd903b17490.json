{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"../styles/UsersList.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UsersList=()=>{const[users,setUsers]=useState([]);useEffect(()=>{fetchAllUsers();},[]);const fetchAllUsers=async()=>{try{const response=await axios.get(\"http://localhost:5001/api/users/all\");setUsers(response.data);}catch(error){console.error(\"‚ùå Erreur chargement des utilisateurs :\",error);}};const handleBlock=async id=>{if(window.confirm(\"Voulez-vous vraiment bloquer cet utilisateur ?\")){try{await axios.put(`http://localhost:5001/api/users/block/${id}`);alert(\"Utilisateur bloqu√© !\");fetchAllUsers();}catch(error){console.error(\"‚ùå Erreur lors du blocage :\",error);}}};const handleUnblock=async id=>{if(window.confirm(\"Voulez-vous vraiment d√©bloquer cet utilisateur ?\")){try{await axios.put(`http://localhost:5001/api/users/unblock/${id}`);alert(\"Utilisateur d√©bloqu√© !\");fetchAllUsers();}catch(error){console.error(\"‚ùå Erreur lors du d√©blocage :\",error);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"users-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC65 Liste des Utilisateurs\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xE9l\\xE9phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"R\\xF4le\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",children:\"Aucun utilisateur trouv\\xE9.\"})}):users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.nom}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.telephone}),/*#__PURE__*/_jsx(\"td\",{children:user.role}),/*#__PURE__*/_jsx(\"td\",{children:user.is_blocked?/*#__PURE__*/_jsx(\"span\",{className:\"status-blocked\",children:\"\\uD83D\\uDD34 Bloqu\\xE9\"}):user.is_connected?/*#__PURE__*/_jsx(\"span\",{className:\"status-connected\",children:\"\\uD83D\\uDFE2 Connect\\xE9\"}):/*#__PURE__*/_jsx(\"span\",{className:\"status-disconnected\",children:\"\\u26AA D\\xE9connect\\xE9\"})}),/*#__PURE__*/_jsx(\"td\",{children:user.is_blocked?/*#__PURE__*/_jsx(\"button\",{className:\"btn-unblock\",onClick:()=>handleUnblock(user.id),children:\"D\\xE9bloquer\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn-block\",onClick:()=>handleBlock(user.id),children:\"Bloquer\"})})]},user.id))})]})]});};export default UsersList;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UsersList","users","setUsers","fetchAllUsers","response","get","data","error","console","handleBlock","id","window","confirm","put","alert","handleUnblock","className","children","length","colSpan","map","user","nom","email","telephone","role","is_blocked","is_connected","onClick"],"sources":["C:/Users/Admin/Desktop/stage25/frontend/src/pages/UsersList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../styles/UsersList.css\";\r\n\r\nconst UsersList = () => {\r\n    const [users, setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchAllUsers();\r\n    }, []);\r\n\r\n    const fetchAllUsers = async () => {\r\n        try {\r\n            const response = await axios.get(\"http://localhost:5001/api/users/all\");\r\n            setUsers(response.data);\r\n        } catch (error) {\r\n            console.error(\"‚ùå Erreur chargement des utilisateurs :\", error);\r\n        }\r\n    };\r\n\r\n    const handleBlock = async (id) => {\r\n        if (window.confirm(\"Voulez-vous vraiment bloquer cet utilisateur ?\")) {\r\n            try {\r\n                await axios.put(`http://localhost:5001/api/users/block/${id}`);\r\n                alert(\"Utilisateur bloqu√© !\");\r\n                fetchAllUsers();\r\n            } catch (error) {\r\n                console.error(\"‚ùå Erreur lors du blocage :\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleUnblock = async (id) => {\r\n        if (window.confirm(\"Voulez-vous vraiment d√©bloquer cet utilisateur ?\")) {\r\n            try {\r\n                await axios.put(`http://localhost:5001/api/users/unblock/${id}`);\r\n                alert(\"Utilisateur d√©bloqu√© !\");\r\n                fetchAllUsers();\r\n            } catch (error) {\r\n                console.error(\"‚ùå Erreur lors du d√©blocage :\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"users-list\">\r\n            <h2>üë• Liste des Utilisateurs</h2>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Nom</th>\r\n                        <th>Email</th>\r\n                        <th>T√©l√©phone</th>\r\n                        <th>R√¥le</th>\r\n                        <th>Status</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {users.length === 0 ? (\r\n                        <tr>\r\n                            <td colSpan=\"7\">Aucun utilisateur trouv√©.</td>\r\n                        </tr>\r\n                    ) : (\r\n                        users.map((user) => (\r\n                            <tr key={user.id}>\r\n                                <td>{user.id}</td>\r\n                                <td>{user.nom}</td>\r\n                                <td>{user.email}</td>\r\n                                <td>{user.telephone}</td>\r\n                                <td>{user.role}</td>\r\n                                <td>\r\n                                    {user.is_blocked ? (\r\n                                        <span className=\"status-blocked\">üî¥ Bloqu√©</span>\r\n                                    ) : user.is_connected ? (\r\n                                        <span className=\"status-connected\">üü¢ Connect√©</span>\r\n                                    ) : (\r\n                                        <span className=\"status-disconnected\">‚ö™ D√©connect√©</span>\r\n                                    )}\r\n                                </td>\r\n                                <td>\r\n                                    {user.is_blocked ? (\r\n                                        <button className=\"btn-unblock\" onClick={() => handleUnblock(user.id)}>D√©bloquer</button>\r\n                                    ) : (\r\n                                        <button className=\"btn-block\" onClick={() => handleBlock(user.id)}>Bloquer</button>\r\n                                    )}\r\n                                </td>\r\n                            </tr>\r\n                        ))\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UsersList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}